<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arc Raiders Tips Hub | Daily Meta, Builds & Strategies</title>
    <meta name="description" content="The ultimate Arc Raiders companion. Daily updated tips, meta builds, weapon guides, and strategies.">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üéØ</text></svg>">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@400;500;600;700&family=JetBrains+Mono:wght@400&display=swap" rel="stylesheet">
    <style>
        :root{--cream:#eae0cd;--bg:#0d0d0f;--card:#151518;--border:#2a2a30;--orange:#ff8c42;--yellow:#ffd93d;--blue:#4d96ff;--green:#6bcb77;--red:#ff4d4d;--purple:#9b59b6;--text:#9a9a9a;--muted:#5a5a5a}
        *{margin:0;padding:0;box-sizing:border-box}
        body{background:var(--bg);color:var(--cream);font-family:'Rajdhani',sans-serif;line-height:1.6}
        .rainbow{height:4px;background:linear-gradient(90deg,var(--red),var(--orange),var(--yellow),var(--green),var(--blue),var(--purple))}
        header{background:#111113;border-bottom:1px solid var(--border);padding:.75rem 1.5rem;position:sticky;top:0;z-index:100}
        .header-inner{max-width:1300px;margin:0 auto;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem}
        .logo{display:flex;align-items:center;gap:.75rem}
        .logo svg{width:40px;height:40px}
        .logo-text{font-family:'Orbitron',monospace;font-size:1.2rem;font-weight:700;letter-spacing:2px}
        .logo-sub{font-size:.7rem;color:var(--text);letter-spacing:1px}
        .header-btns{display:flex;gap:.75rem}
        .btn{padding:.5rem .9rem;background:var(--card);border:1px solid var(--border);color:var(--text);font-family:inherit;font-size:.85rem;cursor:pointer;display:flex;align-items:center;gap:.4rem}
        .btn:hover{border-color:var(--orange);color:var(--cream)}
        .badge{background:var(--green);color:var(--bg);font-size:.7rem;padding:.2rem .5rem;font-family:'JetBrains Mono',monospace}
        .hero{padding:3rem 1.5rem;position:relative;overflow:hidden;background:linear-gradient(180deg,#0a0a0c,var(--bg))}
        .hero-bg{position:absolute;inset:0;background-image:linear-gradient(rgba(255,140,66,.03) 1px,transparent 1px),linear-gradient(90deg,rgba(255,140,66,.03) 1px,transparent 1px);background-size:50px 50px;transform:perspective(500px) rotateX(60deg);transform-origin:top}
        .hero-orb{position:absolute;border-radius:50%;filter:blur(80px);opacity:.4}
        .hero-orb-1{width:300px;height:300px;background:radial-gradient(circle,rgba(255,140,66,.3),transparent 70%);top:-50px;left:10%;animation:float 8s ease-in-out infinite}
        .hero-orb-2{width:200px;height:200px;background:radial-gradient(circle,rgba(77,150,255,.25),transparent 70%);bottom:0;right:15%;animation:float 10s ease-in-out infinite reverse}
        @keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-20px)}}
        .hero-content{max-width:1300px;margin:0 auto;position:relative;display:grid;grid-template-columns:1fr auto;gap:2rem;align-items:center}
        .hero h1{font-family:'Orbitron',monospace;font-size:clamp(1.8rem,4vw,2.8rem);font-weight:800;margin-bottom:.5rem}
        .hero h1 span{background:linear-gradient(90deg,var(--orange),var(--yellow));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
        .hero p{color:var(--text);font-size:1.1rem;max-width:500px;margin-bottom:1.5rem}
        .hero-stats{display:flex;gap:2rem}
        .hero-stat{text-align:center}
        .hero-stat-val{font-family:'Orbitron',monospace;font-size:1.8rem;font-weight:700;color:var(--orange)}
        .hero-stat-lbl{font-size:.75rem;color:var(--muted);text-transform:uppercase}
        .hero-robot{width:200px;height:200px;position:relative}
        .hero-robot svg{width:100%;height:100%}
        .robot-glow{position:absolute;inset:-20px;background:radial-gradient(circle,rgba(255,77,77,.2),transparent 70%);filter:blur(20px);animation:pulse 3s ease-in-out infinite}
        @keyframes pulse{0%,100%{opacity:.5;transform:scale(1)}50%{opacity:.8;transform:scale(1.1)}}
        .controls{background:var(--card);border-bottom:1px solid var(--border);padding:1rem 1.5rem;position:sticky;top:58px;z-index:90}
        .controls-inner{max-width:1300px;margin:0 auto;display:flex;flex-direction:column;gap:.75rem}
        .search-row{display:flex;gap:.75rem;flex-wrap:wrap}
        .search-box{flex:1;min-width:250px;position:relative}
        .search-box input{width:100%;padding:.6rem 1rem .6rem 2.5rem;background:var(--bg);border:1px solid var(--border);color:var(--cream);font-family:inherit;font-size:.95rem}
        .search-box input:focus{outline:none;border-color:var(--orange)}
        .search-box svg{position:absolute;left:.85rem;top:50%;transform:translateY(-50%);width:16px;height:16px;color:var(--muted)}
        .filter-row{display:flex;flex-wrap:wrap;gap:.4rem}
        .filter-btn{padding:.45rem .75rem;background:var(--bg);border:1px solid var(--border);color:var(--text);font-size:.8rem;font-weight:600;cursor:pointer}
        .filter-btn:hover{border-color:var(--orange);color:var(--cream)}
        .filter-btn.active{background:var(--orange);border-color:var(--orange);color:var(--bg)}
        main{max-width:1300px;margin:0 auto;padding:2rem 1.5rem}
        .section{margin-bottom:3rem}
        .section-header{display:flex;align-items:center;gap:.75rem;margin-bottom:1.25rem;padding-bottom:.75rem;border-bottom:1px solid var(--border)}
        .section-header svg{width:24px;height:24px;color:var(--orange)}
        .section-title{font-family:'Orbitron',monospace;font-size:1rem;font-weight:600;letter-spacing:2px;text-transform:uppercase}
        .section-count{margin-left:auto;font-family:'JetBrains Mono',monospace;font-size:.7rem;padding:.25rem .6rem;background:var(--card);border:1px solid var(--border);color:var(--muted)}
        .grid{display:grid;gap:1rem}
        .grid-weapons{grid-template-columns:repeat(auto-fill,minmax(160px,1fr))}
        .grid-maps{grid-template-columns:repeat(auto-fill,minmax(280px,1fr))}
        .grid-arcs{grid-template-columns:repeat(auto-fill,minmax(240px,1fr))}
        .grid-tips{grid-template-columns:repeat(auto-fill,minmax(320px,1fr))}
        .grid-builds{grid-template-columns:repeat(auto-fill,minmax(300px,1fr))}
        .weapon-card{background:var(--card);border:1px solid var(--border);padding:1rem;text-align:center;transition:all .2s}
        .weapon-card:hover{border-color:var(--orange);transform:translateY(-2px)}
        .weapon-icon{width:70px;height:40px;margin:0 auto .5rem}
        .weapon-icon svg{width:100%;height:100%;color:var(--cream)}
        .weapon-name{font-family:'Orbitron',monospace;font-size:.8rem;font-weight:600;margin-bottom:.2rem}
        .weapon-type{font-size:.65rem;color:var(--muted);text-transform:uppercase;margin-bottom:.5rem}
        .weapon-tiers{display:flex;justify-content:center;gap:.75rem}
        .tier-label{font-size:.55rem;color:var(--muted)}
        .tier-val{font-family:'Orbitron',monospace;font-size:.85rem;font-weight:700}
        .tier-s{color:var(--green)}.tier-a{color:var(--blue)}.tier-b{color:var(--yellow)}.tier-c{color:var(--orange)}.tier-d{color:var(--red)}
        .map-card{background:var(--card);border:1px solid var(--border);overflow:hidden;transition:all .2s}
        .map-card:hover{border-color:var(--orange)}
        .map-preview{height:100px;position:relative}
        .map-preview-bg{position:absolute;inset:0}
        .map-overlay{position:absolute;inset:0;background:linear-gradient(transparent,rgba(13,13,15,.9))}
        .map-name{position:absolute;bottom:.75rem;left:1rem;font-family:'Orbitron',monospace;font-size:.95rem;font-weight:700}
        .map-danger{position:absolute;top:.5rem;right:.5rem;font-size:.6rem;padding:.15rem .4rem;text-transform:uppercase;font-family:'JetBrains Mono',monospace}
        .danger-low{background:var(--green);color:var(--bg)}.danger-medium{background:var(--yellow);color:var(--bg)}.danger-high{background:var(--red);color:#fff}
        .map-info{padding:.75rem 1rem}
        .map-loot{font-size:.8rem;color:var(--text);margin-bottom:.25rem}
        .map-loot strong{color:var(--cream)}
        .map-tip{font-size:.75rem;color:var(--muted);font-style:italic}
        .arc-card{background:var(--card);border:1px solid var(--border);padding:1rem;display:flex;gap:1rem;transition:all .2s}
        .arc-card:hover{border-color:var(--red)}
        .arc-icon{width:48px;height:48px;background:linear-gradient(135deg,rgba(255,77,77,.2),rgba(155,89,182,.1));border-radius:8px;display:flex;align-items:center;justify-content:center;flex-shrink:0}
        .arc-icon svg{width:28px;height:28px;color:var(--red)}
        .arc-name{font-family:'Orbitron',monospace;font-size:.85rem;font-weight:600;margin-bottom:.2rem}
        .arc-weak{font-size:.7rem;color:var(--green);margin-bottom:.25rem}
        .arc-tip{font-size:.75rem;color:var(--text)}
        .tip-card{background:var(--card);border:1px solid var(--border);padding:1.25rem;position:relative;transition:all .2s;display:flex;flex-direction:column}
        .tip-card:hover{border-color:var(--orange);transform:translateY(-2px)}
        .tip-card.hot{border-left:3px solid var(--red)}
        .tip-card.meta{border-left:3px solid var(--purple)}
        .tip-tags{display:flex;flex-wrap:wrap;gap:.3rem;margin-bottom:.5rem}
        .tag{font-family:'JetBrains Mono',monospace;font-size:.55rem;padding:.1rem .35rem;text-transform:uppercase;border-radius:2px}
        .tag-new{background:var(--orange);color:var(--bg)}.tag-hot{background:var(--red);color:#fff}
        .tag-weapons{background:rgba(255,140,66,.15);color:var(--orange)}.tag-builds{background:rgba(77,150,255,.15);color:var(--blue)}
        .tag-maps{background:rgba(255,217,61,.15);color:var(--yellow)}.tag-pvp{background:rgba(255,77,77,.15);color:var(--red)}
        .tag-pve{background:rgba(107,203,119,.15);color:var(--green)}.tag-meta{background:rgba(155,89,182,.15);color:var(--purple)}
        .tip-title{font-size:1rem;font-weight:700;margin-bottom:.5rem;line-height:1.4}
        .tip-content{color:var(--text);font-size:.85rem;flex:1;margin-bottom:.75rem}
        .tip-footer{display:flex;justify-content:space-between;padding-top:.5rem;border-top:1px solid var(--border);font-size:.65rem;color:var(--muted);font-family:'JetBrains Mono',monospace}
        .tip-footer a{color:var(--blue);text-decoration:none}
        .build-card{background:var(--card);border:1px solid var(--border);overflow:hidden}
        .build-header{display:flex;justify-content:space-between;align-items:center;padding:.9rem 1rem;background:linear-gradient(90deg,rgba(255,140,66,.1),transparent);border-bottom:1px solid var(--border)}
        .build-name{font-family:'Orbitron',monospace;font-size:.9rem;font-weight:700}
        .build-type{font-size:.6rem;padding:.2rem .5rem;text-transform:uppercase;font-family:'JetBrains Mono',monospace}
        .type-pvp{background:rgba(255,77,77,.2);color:var(--red)}.type-pve{background:rgba(107,203,119,.2);color:var(--green)}.type-mixed{background:rgba(255,217,61,.2);color:var(--yellow)}
        .build-body{padding:1rem}
        .build-loadout{display:grid;grid-template-columns:1fr 1fr;gap:.5rem;margin-bottom:.75rem}
        .loadout-slot{background:var(--bg);padding:.5rem .6rem;border-left:2px solid var(--orange)}
        .loadout-label{font-size:.55rem;color:var(--muted);text-transform:uppercase;font-family:'JetBrains Mono',monospace}
        .loadout-item{font-weight:700;font-size:.8rem}
        .build-skills{display:flex;gap:.5rem}
        .skill-bar{flex:1;text-align:center}
        .skill-label{font-size:.55rem;color:var(--muted);text-transform:uppercase}
        .skill-track{height:5px;background:var(--bg);border-radius:3px;overflow:hidden;margin:.2rem 0}
        .skill-fill{height:100%;border-radius:3px}
        .skill-mobility{background:linear-gradient(90deg,var(--orange),var(--yellow))}
        .skill-conditioning{background:linear-gradient(90deg,var(--blue),var(--purple))}
        .skill-survival{background:linear-gradient(90deg,var(--green),#4ecdc4)}
        .skill-val{font-family:'Orbitron',monospace;font-size:.7rem;font-weight:700}
        .build-notes{margin-top:.5rem;padding-top:.5rem;border-top:1px solid var(--border);font-size:.75rem;color:var(--text);font-style:italic}
        .loading{display:flex;flex-direction:column;align-items:center;padding:3rem}
        .spinner{width:40px;height:40px;border:3px solid var(--border);border-top-color:var(--orange);border-radius:50%;animation:spin 1s linear infinite}
        @keyframes spin{to{transform:rotate(360deg)}}
        .no-results{text-align:center;padding:3rem;color:var(--text)}
        footer{background:var(--card);border-top:1px solid var(--border);padding:2rem 1.5rem;text-align:center}
        .footer-links{display:flex;justify-content:center;gap:1.5rem;flex-wrap:wrap;margin-bottom:1rem}
        .footer-links a{color:var(--text);text-decoration:none;font-size:.85rem}
        .footer-links a:hover{color:var(--orange)}
        .footer-disclaimer{font-size:.7rem;color:var(--muted)}
        @media(max-width:900px){.hero-content{grid-template-columns:1fr}.hero-robot{display:none}.hero-stats{justify-content:center}}
        @media(max-width:768px){.grid-weapons,.grid-maps,.grid-arcs,.grid-tips,.grid-builds{grid-template-columns:1fr}.search-row{flex-direction:column}}
    </style>
</head>
<body>
<div class="rainbow"></div>
<header>
    <div class="header-inner">
        <div class="logo">
            <svg viewBox="0 0 100 100"><defs><linearGradient id="lg" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stop-color="#ff8c42"/><stop offset="50%" stop-color="#ffd93d"/><stop offset="100%" stop-color="#4d96ff"/></linearGradient></defs><polygon points="50,5 95,27.5 95,72.5 50,95 5,72.5 5,27.5" fill="url(#lg)"/><text x="50" y="62" text-anchor="middle" fill="#0d0d0f" font-family="Orbitron" font-weight="900" font-size="38">A</text></svg>
            <div><div class="logo-text">ARC RAIDERS HUB</div><div class="logo-sub">Tips ‚Ä¢ Builds ‚Ä¢ Strategies</div></div>
        </div>
        <div class="header-btns">
            <span class="badge">Patch 1.11.0</span>
            <button class="btn" id="bookmarks-btn">üîñ Saved <span id="bookmark-count">0</span></button>
        </div>
    </div>
</header>

<section class="hero">
    <div class="hero-bg"></div>
    <div class="hero-orb hero-orb-1"></div>
    <div class="hero-orb hero-orb-2"></div>
    <div class="hero-content">
        <div>
            <h1>Your Daily <span>Arc Raiders</span> Intel</h1>
            <p>Community-curated tips, meta builds, and extraction strategies. Auto-updated every 24 hours.</p>
            <div class="hero-stats">
                <div class="hero-stat"><div class="hero-stat-val" id="total-tips">--</div><div class="hero-stat-lbl">Tips</div></div>
                <div class="hero-stat"><div class="hero-stat-val" id="hot-tips">--</div><div class="hero-stat-lbl">Trending</div></div>
                <div class="hero-stat"><div class="hero-stat-val">4</div><div class="hero-stat-lbl">Builds</div></div>
            </div>
        </div>
        <div class="hero-robot">
            <div class="robot-glow"></div>
            <svg viewBox="0 0 200 200" fill="none"><defs><linearGradient id="rg" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stop-color="#ff4d4d" stop-opacity=".8"/><stop offset="100%" stop-color="#9b59b6" stop-opacity=".6"/></linearGradient></defs><path d="M100 40L140 70v60l-20 30H80L60 130V70z" fill="url(#rg)"/><ellipse cx="100" cy="35" rx="25" ry="20" fill="url(#rg)"/><ellipse cx="100" cy="35" rx="12" ry="8" fill="#ff4d4d" opacity=".9"><animate attributeName="opacity" values=".9;.4;.9" dur="2s" repeatCount="indefinite"/></ellipse><path d="M60 80L30 100l-5 30 10 5 10-25 15-15M140 80l30 20 5 30-10 5-10-25-15-15" fill="url(#rg)"/><path d="M80 160l-5 30 10 5 10-30M120 160l5 30-10 5-10-30" fill="url(#rg)"/></svg>
        </div>
    </div>
</section>

<div class="controls">
    <div class="controls-inner">
        <div class="search-row">
            <div class="search-box">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
                <input type="text" id="search-input" placeholder="Search tips... (Matriarch, Tempest, extraction)">
            </div>
        </div>
        <div class="filter-row">
            <button class="filter-btn active" data-filter="all">üìã All</button>
            <button class="filter-btn" data-filter="hot">üî• Hot</button>
            <button class="filter-btn" data-filter="meta">üìä Meta</button>
            <button class="filter-btn" data-filter="weapons">üî´ Weapons</button>
            <button class="filter-btn" data-filter="builds">üéí Builds</button>
            <button class="filter-btn" data-filter="maps">üó∫Ô∏è Maps</button>
            <button class="filter-btn" data-filter="pvp">‚öîÔ∏è PvP</button>
            <button class="filter-btn" data-filter="pve">ü§ñ PvE</button>
        </div>
    </div>
</div>

<main>
    <section class="section">
        <div class="section-header">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>
            <h2 class="section-title">Weapon Tier List</h2>
            <span class="section-count">Patch 1.11.0</span>
        </div>
        <div class="grid grid-weapons" id="weapons-grid"></div>
    </section>

    <section class="section">
        <div class="section-header">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"/></svg>
            <h2 class="section-title">Map Intel</h2>
            <span class="section-count">5 Maps</span>
        </div>
        <div class="grid grid-maps" id="maps-grid"></div>
    </section>

    <section class="section">
        <div class="section-header">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="10" rx="2"/><circle cx="12" cy="5" r="3"/></svg>
            <h2 class="section-title">ARC Enemies</h2>
            <span class="section-count">Know Your Enemy</span>
        </div>
        <div class="grid grid-arcs" id="arcs-grid"></div>
    </section>

    <section class="section">
        <div class="section-header">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 18h6M10 22h4M12 2a7 7 0 0 0-7 7c0 2.4 1.2 4.5 3 5.7V17h8v-2.3c1.8-1.2 3-3.3 3-5.7a7 7 0 0 0-7-7z"/></svg>
            <h2 class="section-title">Tips & Strategies</h2>
            <span class="section-count" id="tips-count">Loading...</span>
        </div>
        <div class="grid grid-tips" id="tips-container"><div class="loading"><div class="spinner"></div><p>Loading tips...</p></div></div>
        <div class="no-results" id="no-results" style="display:none">üîç No tips match your search.</div>
    </section>

    <section class="section">
        <div class="section-header">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>
            <h2 class="section-title">Meta Builds</h2>
            <span class="section-count">Patch 1.11.0</span>
        </div>
        <div class="grid grid-builds" id="builds-container"></div>
    </section>
</main>

<footer>
    <div class="rainbow" style="margin-bottom:1rem"></div>
    <div class="footer-links">
        <a href="https://reddit.com/r/ArcRaiders" target="_blank">üì± Reddit</a>
        <a href="https://steamcommunity.com/app/1808500" target="_blank">üéÆ Steam</a>
        <a href="https://arcraiders.wiki" target="_blank">üìö Wiki</a>
        <a href="https://github.com/tchebagual71/ArcScraperApp" target="_blank">‚öôÔ∏è GitHub</a>
    </div>
    <p class="footer-disclaimer">Community project ‚Äî not affiliated with Embark Studios. Arc Raiders‚Ñ¢ is a trademark of Embark Studios AB.</p>
</footer>

<script>
let allTips=[],bookmarks=JSON.parse(localStorage.getItem('arcraiders-bookmarks')||'[]'),currentFilter='all',searchQuery='';
const DATA_PATH=location.hostname.includes('github.io')?'./data/':'./';

const WEAPONS=[
    {name:'Tempest',type:'SMG',pvp:'S',pve:'B'},
    {name:'Stitcher',type:'SMG',pvp:'S',pve:'C'},
    {name:'Hullcracker',type:'Launcher',pvp:'D',pve:'S'},
    {name:'Bettina',type:'AR',pvp:'B',pve:'A'},
    {name:'Venator',type:'DMR',pvp:'B',pve:'B'},
    {name:'Ferro',type:'Battle Rifle',pvp:'B',pve:'A'},
    {name:'Rattler',type:'Pistol',pvp:'C',pve:'B'}
];

const MAPS=[
    {name:'Dam Battlegrounds',danger:'medium',loot:'Control Room, Dam Top',tip:'Great for beginners. Multiple extracts.',color:'#4d96ff'},
    {name:'Spaceport',danger:'high',loot:'Hangars, Cargo Bay',tip:'High PvP activity. Stick to edges.',color:'#ff4d4d'},
    {name:'Buried City',danger:'medium',loot:'Underground, Mall',tip:'Complex verticality. Watch ambushes.',color:'#9b59b6'},
    {name:'Stella Montis',danger:'high',loot:'Observatory, Labs',tip:'Night raids available. Bring NVG.',color:'#ff8c42'},
    {name:'Blue Gate',danger:'medium',loot:'Warehouses',tip:'Good for loot runs. Sparse ARCs.',color:'#6bcb77'}
];

const ARCS=[
    {name:'Leaper',weak:'Head/Core',tip:'Never turn your back. Maintain distance.'},
    {name:'Matriarch',weak:'Abdomen',tip:'Use Hullcracker. Kite around cover.'},
    {name:'Bombardier',weak:'Artillery Pods',tip:'Destroy pods first with Ferro.'},
    {name:'Sentinel',weak:'Central Core',tip:'Sustained fire. Dodge sweep attacks.'},
    {name:'Bastion',weak:'Back Vents',tip:'Flank required. Explosive damage.'}
];

document.addEventListener('DOMContentLoaded',()=>{
    renderWeapons();renderMaps();renderArcs();loadTips();loadBuilds();setupEvents();
    document.getElementById('bookmark-count').textContent=bookmarks.length;
});

function renderWeapons(){
    document.getElementById('weapons-grid').innerHTML=WEAPONS.map(w=>`
        <div class="weapon-card">
            <div class="weapon-icon"><svg viewBox="0 0 80 40" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="10" y="14" width="45" height="12" rx="2"/><path d="M55 16v8M55 20h15M20 26v8h6v-8"/></svg></div>
            <div class="weapon-name">${w.name}</div>
            <div class="weapon-type">${w.type}</div>
            <div class="weapon-tiers">
                <div><div class="tier-label">PvP</div><div class="tier-val tier-${w.pvp.toLowerCase()}">${w.pvp}</div></div>
                <div><div class="tier-label">PvE</div><div class="tier-val tier-${w.pve.toLowerCase()}">${w.pve}</div></div>
            </div>
        </div>
    `).join('');
}

function renderMaps(){
    document.getElementById('maps-grid').innerHTML=MAPS.map(m=>`
        <div class="map-card">
            <div class="map-preview">
                <div class="map-preview-bg" style="background:linear-gradient(135deg,${m.color}33,${m.color}11)"></div>
                <div class="map-overlay"></div>
                <div class="map-name">${m.name}</div>
                <div class="map-danger danger-${m.danger}">${m.danger}</div>
            </div>
            <div class="map-info">
                <div class="map-loot"><strong>Best Loot:</strong> ${m.loot}</div>
                <div class="map-tip">${m.tip}</div>
            </div>
        </div>
    `).join('');
}

function renderArcs(){
    document.getElementById('arcs-grid').innerHTML=ARCS.map(a=>`
        <div class="arc-card">
            <div class="arc-icon"><svg viewBox="0 0 40 40" fill="none" stroke="currentColor" stroke-width="1.5"><circle cx="20" cy="12" r="8"/><circle cx="20" cy="12" r="3" fill="currentColor"/><path d="M12 22h16v12H12zM8 24l4-2v8l-4-2zM32 24l-4-2v8l4-2zM15 34v4M25 34v4"/></svg></div>
            <div><div class="arc-name">${a.name}</div><div class="arc-weak">‚éØ Weak: ${a.weak}</div><div class="arc-tip">${a.tip}</div></div>
        </div>
    `).join('');
}

async function loadTips(){
    try{
        let r=await fetch(DATA_PATH+'tips.json');if(!r.ok)r=await fetch('./tips.json');
        allTips=await r.json();renderTips();
        document.getElementById('total-tips').textContent=allTips.length;
        document.getElementById('hot-tips').textContent=allTips.filter(t=>t.hot).length;
    }catch(e){document.getElementById('tips-container').innerHTML='<div class="no-results">Unable to load tips.</div>';}
}

async function loadBuilds(){
    try{
        let r=await fetch(DATA_PATH+'builds.json');if(!r.ok)r=await fetch('./builds.json');
        const builds=await r.json();renderBuilds(builds);
    }catch(e){}
}

function renderTips(){
    const c=document.getElementById('tips-container'),nr=document.getElementById('no-results');
    let f=allTips;
    if(searchQuery){const q=searchQuery.toLowerCase();f=f.filter(t=>t.title.toLowerCase().includes(q)||t.content.toLowerCase().includes(q)||t.tags.some(tag=>tag.includes(q)));}
    if(currentFilter!=='all')f=currentFilter==='hot'?f.filter(t=>t.hot):f.filter(t=>t.tags.includes(currentFilter));
    if(f.length===0){c.innerHTML='';nr.style.display='block';}
    else{nr.style.display='none';c.innerHTML=f.map(t=>`
        <article class="tip-card${t.hot?' hot':''}${t.tags.includes('meta')?' meta':''}">
            <div class="tip-tags">
                ${t.isNew?'<span class="tag tag-new">NEW</span>':''}
                ${t.hot?'<span class="tag tag-hot">HOT</span>':''}
                ${t.tags.map(tag=>`<span class="tag tag-${tag}">${tag}</span>`).join('')}
            </div>
            <h3 class="tip-title">${esc(t.title)}</h3>
            <p class="tip-content">${esc(t.content)}</p>
            <div class="tip-footer"><span>${t.source}${t.url?` ‚Ä¢ <a href="${t.url}" target="_blank">Source</a>`:''}</span><span>‚ñ≤ ${t.score||0}</span></div>
        </article>
    `).join('');}
    document.getElementById('tips-count').textContent=`${f.length} tips`;
}

function renderBuilds(builds){
    document.getElementById('builds-container').innerHTML=builds.map(b=>{
        const tc=b.type.toLowerCase();
        return`
        <div class="build-card">
            <div class="build-header"><span class="build-name">${esc(b.name)}</span><span class="build-type type-${tc}">${b.type}</span></div>
            <div class="build-body">
                <div class="build-loadout">
                    <div class="loadout-slot"><div class="loadout-label">Primary</div><div class="loadout-item">${esc(b.primary)}</div></div>
                    <div class="loadout-slot"><div class="loadout-label">Secondary</div><div class="loadout-item">${esc(b.secondary)}</div></div>
                    <div class="loadout-slot"><div class="loadout-label">Sidearm</div><div class="loadout-item">${esc(b.sidearm)}</div></div>
                    <div class="loadout-slot"><div class="loadout-label">Augment</div><div class="loadout-item">${esc(b.augment)}</div></div>
                </div>
                <div class="build-skills">
                    <div class="skill-bar"><div class="skill-label">Mobility</div><div class="skill-track"><div class="skill-fill skill-mobility" style="width:${b.skills.mobility/75*100}%"></div></div><div class="skill-val">${b.skills.mobility}</div></div>
                    <div class="skill-bar"><div class="skill-label">Cond.</div><div class="skill-track"><div class="skill-fill skill-conditioning" style="width:${b.skills.conditioning/75*100}%"></div></div><div class="skill-val">${b.skills.conditioning}</div></div>
                    <div class="skill-bar"><div class="skill-label">Surv.</div><div class="skill-track"><div class="skill-fill skill-survival" style="width:${b.skills.survival/75*100}%"></div></div><div class="skill-val">${b.skills.survival}</div></div>
                </div>
                ${b.notes?`<div class="build-notes">"${esc(b.notes)}"</div>`:''}
            </div>
        </div>`;
    }).join('');
}

function setupEvents(){
    document.getElementById('search-input').addEventListener('input',e=>{searchQuery=e.target.value;renderTips();});
    document.querySelectorAll('.filter-btn').forEach(btn=>{
        btn.addEventListener('click',()=>{
            document.querySelectorAll('.filter-btn').forEach(b=>b.classList.remove('active'));
            btn.classList.add('active');currentFilter=btn.dataset.filter;renderTips();
        });
    });
}

function esc(t){if(!t)return'';const d=document.createElement('div');d.textContent=t;return d.innerHTML;}
</script>
</body>
</html>